import os

to_replace = "<b>Nu zal je echter minder hulp krijgen bij het maken van de functie: we zullen nu stapje voor stapje minder code voor je voorschrijven. Denk dus goed zelf na hoe je een functie correct opschrijft!</b>"
replacement = "<span style='color: red;'><b>Nu zal je echter minder hulp krijgen bij het maken van de functie: we zullen nu stapje voor stapje minder code voor je voorschrijven. Denk dus goed zelf na hoe je een functie correct opschrijft!</b></span>"
filename_contains = "description"
root_dir = "exercises"

for dirpath, dirnames, filenames in os.walk(root_dir):
    for filename in filenames:
        if filename_contains in filename:
            file_path = os.path.join(dirpath, filename)
            print(f"Checking: {file_path}")
            with open(file_path, "r", encoding="utf-8") as f:
                lines = f.readlines()
            changed = False
            new_lines = []
            for line in lines:
                if to_replace in line:
                    line = line.replace(
                        to_replace,
                        replacement
                    )
                    changed = True
                new_lines.append(line)
            if changed:
                with open(file_path, "w", encoding="utf-8") as f:
                    f.writelines(new_lines)
                print(f"Updated: {file_path}")
